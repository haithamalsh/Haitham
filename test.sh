#!/bin/bash

echo "๐งช ุจุฏุก ุงุฎุชุจุงุฑ ูุดุฑูุน AdvanceTech..."

# ุงูุชุญูู ูู ูุฌูุฏ Maven
if ! command -v mvn &> /dev/null; then
    echo "โ Maven ุบูุฑ ูุซุจุช. ูุฑุฌู ุชุซุจูุช Maven ุฃููุงู."
    exit 1
fi

# ุงูุชุญูู ูู ูุฌูุฏ Java 17
if ! command -v java &> /dev/null; then
    echo "โ Java ุบูุฑ ูุซุจุช. ูุฑุฌู ุชุซุจูุช Java 17 ุฃููุงู."
    exit 1
fi

echo "โ ุฌููุน ุงููุชุทูุจุงุช ูุชููุฑุฉ"

# ุชูุธูู ุงููุดุฑูุน
echo "๐งน ุชูุธูู ุงููุดุฑูุน..."
mvn clean

# ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช
echo "๐งช ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช..."
mvn test

if [ $? -eq 0 ]; then
    echo "โ ุชู ุชุดุบูู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช ุจูุฌุงุญ!"
    echo "๐ ุฌููุน ุงูุงุฎุชุจุงุฑุงุช ูุฌุญุช!"
else
    echo "โ ูุดู ูู ุจุนุถ ุงูุงุฎุชุจุงุฑุงุช"
    exit 1
fi
