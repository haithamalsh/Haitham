#!/bin/bash

echo "๐ ุฅุนุฏุงุฏ ูุดุฑูุน AdvanceTech ูู ุงูุจุฏุงูุฉ..."

# ุงูุชุญูู ูู ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
echo "๐ ุงูุชุญูู ูู ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ..."

# ุงูุชุญูู ูู ูุฌูุฏ Docker
if ! command -v docker &> /dev/null; then
    echo "โ Docker ุบูุฑ ูุซุจุช. ูุฑุฌู ุชุซุจูุช Docker ุฃููุงู."
    exit 1
fi

# ุงูุชุญูู ูู ูุฌูุฏ Maven
if ! command -v mvn &> /dev/null; then
    echo "โ Maven ุบูุฑ ูุซุจุช. ูุฑุฌู ุชุซุจูุช Maven ุฃููุงู."
    exit 1
fi

# ุงูุชุญูู ูู ูุฌูุฏ Java 17
if ! command -v java &> /dev/null; then
    echo "โ Java ุบูุฑ ูุซุจุช. ูุฑุฌู ุชุซุจูุช Java 17 ุฃููุงู."
    exit 1
fi

echo "โ ุฌููุน ุงููุชุทูุจุงุช ูุชููุฑุฉ"

# ุฅูุดุงุก ูุฌูุฏุงุช ุงููุดุฑูุน
echo "๐ ุฅูุดุงุก ูุฌูุฏุงุช ุงููุดุฑูุน..."
mkdir -p uploads logs init-scripts

# ุชููุฆุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
echo "๐๏ธ ุชููุฆุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช..."
./init-db.sh

# ุจูุงุก ุงููุดุฑูุน
echo "๐จ ุจูุงุก ุงููุดุฑูุน..."
./build.sh

# ุชุดุบูู ุงูุฎุฏูุงุช
echo "๐ ุชุดุบูู ุงูุฎุฏูุงุช..."
./run-dev.sh

echo "๐ ุชู ุฅุนุฏุงุฏ ูุดุฑูุน AdvanceTech ุจูุฌุงุญ!"
